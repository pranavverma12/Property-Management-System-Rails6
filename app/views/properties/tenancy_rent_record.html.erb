<section class='scaffold'>
  <h2 class="breadcrumbs">Tenancy Rent Record</h2>  
  <table class="scaffoldListTable">
    <thead>
      <tr>
        <th>Property name</th>
        
        <th>Property address</th>
        
        <th>Landlord full name</th>
        
        <th>Landlord email</th>
        
        <th>Tenant full name</th>
        
        <th>Tenant email</th>
        
        <th>Rent due on</th>
        
        <th>Monthly rent</th>        
      </tr>
    </thead>

    <tbody>
      <% @properties.each do |property| %>
        <tr>
          <td><%= link_to property.property_name, property %></td>
          
          <td>
            <pre><%= property.property_address %></pre>
          </td>
          
          <td><%= landlords_full_name(property) %></td>
          
          <td><%= landlords_emails(property) %></td>
          
          <td><%= property.tenants.map { |t| t.full_name }.join(', ') %></td>
          
          <td><%= property.tenants.map(&:email).join(', ') %></td>
          
          <td><%= rent_due_on(property) %></td>         
          
          <td><%= property&.tenancy_monthly_rent %></td>          
        </tr>
      <% end %>
    </tbody>
  </table>
</section>